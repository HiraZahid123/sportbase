import{j as e,u as k,L as j}from"./app-CRWGDrHN.js";import{I as m}from"./InputError-kl5fOZYW.js";import{I as u}from"./InputLabel-TFgxRST_.js";import{P as _}from"./PrimaryButton-B9f6y-49.js";import{T as x}from"./TextInput-BR__hF4p.js";import{C as S}from"./ClubLayout-ZsAVw-n8.js";import{c as v,X as C,U as T}from"./MainNavbar-CCS9olRq.js";import{C as I}from"./calendar-CN9wJstX.js";import{P as M}from"./plus-BLH615RX.js";import{T as F}from"./trash-2-U1ADHkpl.js";import{S as G}from"./save-DbAjevBb.js";import{K as A}from"./transition-BaGdEuz_.js";import"./ReactToastify-Bx7WqwnG.js";import"./AdminFooter-CVbIkqk4.js";const q=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],D=v("dollar-sign",q);const L=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],z=v("type",L);function B({value:l,onChange:o,className:p,...t}){const n=d=>{let s=d.target.value;s=s.replace(/[^0-9:]/g,""),s.length===4&&!s.includes(":")&&(s=s.slice(0,2)+":"+s.slice(2)),!(s.length>5)&&o({target:{name:t.name,value:s}})},h=d=>{let s=d.target.value;if(!s)return;/^([0-1][0-9]|2[0-3]):([0-5][0-9])$/.test(s)||(/^([0-9]):([0-5][0-9])$/.test(s)?s="0"+s:/^\d{1,2}$/.test(s)&&(s=s.padStart(2,"0")+":00")),o({target:{name:t.name,value:s}})};return e.jsx(x,{...t,type:"text",value:l,onChange:n,onBlur:h,placeholder:"HH:mm (24h)",className:p})}function Z({group:l=null}){const o=!!l,p=a=>{if(!a)return[{day:"Monday",time:"17:00"}];if(Array.isArray(a))return a;try{const r=JSON.parse(a);return Array.isArray(r)?r:[{day:"Monday",time:"17:00"}]}catch{return[{day:"Monday",time:"17:00"}]}},{data:t,setData:n,post:h,put:d,processing:s,errors:c,recentlySuccessful:b}=k({name:l?.name||"",description:l?.description||"",price:l?.price||"",max_members:l?.max_members||"",schedule_json:p(l?.schedule_json)}),y=a=>{a.preventDefault(),o?d(route("club.training-groups.update",l.id)):h(route("club.training-groups.store"))},N=()=>{n("schedule_json",[...t.schedule_json,{day:"Monday",time:"17:00"}])},w=a=>{const r=[...t.schedule_json];r.splice(a,1),n("schedule_json",r)},g=(a,r,i)=>{const f=[...t.schedule_json];f[a][r]=i,n("schedule_json",f)};return e.jsx(S,{title:o?"Configure Group":"New Training Group",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-6 space-y-8",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:o?"Configure Group":"New Training Group"}),e.jsx("p",{className:"text-slate-500 mt-2",children:"Define the schedule, pricing, and capacity for your athletes"})]}),e.jsx(j,{href:route("club.training-groups.index"),className:"text-slate-400 hover:text-slate-600 p-2 hover:bg-slate-100 rounded-full transition-all",children:e.jsx(C,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"bg-white rounded-3xl shadow-card border border-slate-100 overflow-hidden",children:e.jsxs("form",{onSubmit:y,className:"p-10 space-y-10",children:[e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center gap-3 pb-2 border-b border-slate-50",children:[e.jsx(z,{className:"w-5 h-5 text-brand-blue"}),e.jsx("h3",{className:"font-black text-slate-800 uppercase tracking-widest text-xs",children:"General Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"name",value:"Group Designation",className:"text-slate-600 font-bold"}),e.jsx(x,{id:"name",placeholder:"e.g. U14 Competitive Squad",className:"mt-1 block w-full bg-slate-50/50 border-slate-200 focus:border-brand-blue focus:ring-brand-blue rounded-xl py-3",value:t.name,onChange:a=>n("name",a.target.value),required:!0,isFocused:!0}),e.jsx(m,{className:"mt-2",message:c.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"description",value:"Service Description",className:"text-slate-600 font-bold"}),e.jsx("textarea",{id:"description",placeholder:"Tell athletes what to expect from this group...",className:"mt-1 block w-full bg-slate-50/50 border-slate-200 focus:border-brand-blue focus:ring-brand-blue rounded-xl min-h-[120px] transition-all",value:t.description,onChange:a=>n("description",a.target.value)}),e.jsx(m,{className:"mt-2",message:c.description})]})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center gap-3 pb-2 border-b border-slate-50",children:[e.jsx(D,{className:"w-5 h-5 text-emerald-600"}),e.jsx("h3",{className:"font-black text-slate-800 uppercase tracking-widest text-xs",children:"Capacity & Billing"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"price",value:"Monthly Subscription Fee (€)",className:"text-slate-600 font-bold"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400 font-bold",children:"€"}),e.jsx(x,{id:"price",type:"number",step:"0.01",className:"mt-1 block w-full pl-10 bg-slate-50/50 border-slate-200 focus:border-emerald-500 focus:ring-emerald-500 rounded-xl py-3",value:t.price,onChange:a=>n("price",a.target.value),required:!0})]}),e.jsx(m,{className:"mt-2",message:c.price})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"max_members",value:"Maximum Group Size",className:"text-slate-600 font-bold"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400",children:e.jsx(T,{className:"w-4 h-4"})}),e.jsx(x,{id:"max_members",type:"number",className:"mt-1 block w-full pl-10 bg-slate-50/50 border-slate-200 focus:border-brand-blue focus:ring-brand-blue rounded-xl py-3",value:t.max_members,onChange:a=>n("max_members",a.target.value),required:!0})]}),e.jsx(m,{className:"mt-2",message:c.max_members})]})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between pb-2 border-b border-slate-50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(I,{className:"w-5 h-5 text-amber-600"}),e.jsx("h3",{className:"font-black text-slate-800 uppercase tracking-widest text-xs",children:"Weekly Schedule"})]}),e.jsxs("button",{type:"button",onClick:N,className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-black bg-slate-100 text-slate-600 hover:bg-brand-blue hover:text-white transition-all uppercase tracking-tighter",children:[e.jsx(M,{className:"w-3.5 h-3.5"}),"Add Session"]})]}),e.jsxs("div",{className:"space-y-4",children:[Array.isArray(t.schedule_json)&&t.schedule_json.map((a,r)=>e.jsxs("div",{className:"flex items-center gap-4 bg-slate-50/50 p-4 rounded-2xl border border-slate-100 group animate-in fade-in slide-in-from-left-2 transition-all duration-300",children:[e.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-4",children:[e.jsx("select",{value:a.day,onChange:i=>g(r,"day",i.target.value),className:"bg-white border-slate-200 focus:border-amber-500 focus:ring-amber-500 rounded-xl text-sm font-bold text-slate-700 h-12 transition-all",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(i=>e.jsx("option",{value:i,children:i},i))}),e.jsx(B,{className:"bg-white border-slate-200 focus:border-amber-500 focus:ring-amber-500 rounded-xl text-sm font-bold text-slate-700 h-12",value:a.time,onChange:i=>g(r,"time",i.target.value)})]}),t.schedule_json.length>1&&e.jsx("button",{type:"button",onClick:()=>w(r),className:"text-slate-300 hover:text-brand-red p-2 hover:bg-red-50 rounded-lg transition-all",children:e.jsx(F,{className:"w-5 h-5"})})]},r)),e.jsx(m,{className:"mt-2",message:c.schedule_json})]})]}),e.jsxs("div",{className:"pt-8 border-t border-slate-50 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(_,{className:"bg-brand-blue px-10 py-4 rounded-2xl shadow-lg shadow-blue-100 font-black text-sm uppercase tracking-widest flex items-center gap-2 hover:translate-y-[-2px] transition-all",disabled:s,children:[e.jsx(G,{className:"w-5 h-5"}),o?"Commit Changes":"Initialize Group"]}),e.jsx(A,{show:b,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("p",{className:"text-sm text-emerald-600 font-bold bg-emerald-50 px-4 py-2 rounded-lg border border-emerald-100",children:"Success! Configuration saved."})})]}),e.jsx(j,{href:route("club.training-groups.index"),className:"text-sm font-bold text-slate-400 hover:text-slate-600 transition-colors uppercase tracking-widest",children:"Cancel Operation"})]})]})})]})})}export{Z as default};
