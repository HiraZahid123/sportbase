import{u as k,j as e,L as p}from"./app-BvlnqUIN.js";import{I as o}from"./InputError-Cj64nZpY.js";import{I as c}from"./InputLabel-BwPk2Gzp.js";import{P as _}from"./PrimaryButton-CHatH-rA.js";import{T as m}from"./TextInput-Q05nzr2w.js";import{C as S}from"./ClubLayout-BoTyYYtL.js";import{X as C}from"./x-BrMu6Nh2.js";import{c as h}from"./createLucideIcon-B935ZgJ2.js";import{U as T}from"./users-STsGEG2t.js";import{C as I}from"./calendar-BmoWX8Fe.js";import{P as M}from"./plus-Dv0HJw8E.js";import{T as F}from"./trash-2-RZBnKpXL.js";import{S as A}from"./save-CItyeXC4.js";import{K as G}from"./transition-Xw-qqGi_.js";import"./ReactToastify-xCiKEWbU.js";import"./AdminFooter-BDYURd-t.js";import"./proxy-D2wPtGPF.js";const q=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],D=h("dollar-sign",q);const L=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],z=h("type",L);function se({group:l=null}){const d=!!l,b=s=>{if(!s)return[{day:"Monday",time:"17:00"}];if(Array.isArray(s))return s;try{const a=JSON.parse(s);return Array.isArray(a)?a:[{day:"Monday",time:"17:00"}]}catch{return[{day:"Monday",time:"17:00"}]}},{data:t,setData:n,post:f,put:g,processing:j,errors:i,recentlySuccessful:y}=k({name:l?.name||"",description:l?.description||"",price:l?.price||"",max_members:l?.max_members||"",schedule_json:b(l?.schedule_json)}),N=s=>{s.preventDefault(),d?g(route("club.training-groups.update",l.id)):f(route("club.training-groups.store"))},v=()=>{n("schedule_json",[...t.schedule_json,{day:"Monday",time:"17:00"}])},w=s=>{const a=[...t.schedule_json];a.splice(s,1),n("schedule_json",a)},u=(s,a,r)=>{const x=[...t.schedule_json];x[s][a]=r,n("schedule_json",x)};return e.jsx(S,{title:d?"Edit Training Group":"Create Training Group",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-12",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:d?"Configure Group":"New Training Group"}),e.jsx("p",{className:"text-slate-500 mt-2",children:"Define the schedule, pricing, and capacity for your athletes"})]}),e.jsx(p,{href:route("club.training-groups.index"),className:"text-slate-400 hover:text-slate-600 p-2 hover:bg-slate-100 rounded-full transition-all",children:e.jsx(C,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"bg-white rounded-3xl shadow-card border border-slate-100 overflow-hidden",children:e.jsxs("form",{onSubmit:N,className:"p-10 space-y-10",children:[e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center gap-3 pb-2 border-b border-slate-50",children:[e.jsx(z,{className:"w-5 h-5 text-brand-blue"}),e.jsx("h3",{className:"font-black text-slate-800 uppercase tracking-widest text-xs",children:"General Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"name",value:"Group Designation",className:"text-slate-600 font-bold"}),e.jsx(m,{id:"name",placeholder:"e.g. U14 Competitive Squad",className:"mt-1 block w-full bg-slate-50/50 border-slate-200 focus:border-brand-blue focus:ring-brand-blue rounded-xl py-3",value:t.name,onChange:s=>n("name",s.target.value),required:!0,isFocused:!0}),e.jsx(o,{className:"mt-2",message:i.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"description",value:"Service Description",className:"text-slate-600 font-bold"}),e.jsx("textarea",{id:"description",placeholder:"Tell athletes what to expect from this group...",className:"mt-1 block w-full bg-slate-50/50 border-slate-200 focus:border-brand-blue focus:ring-brand-blue rounded-xl min-h-[120px] transition-all",value:t.description,onChange:s=>n("description",s.target.value)}),e.jsx(o,{className:"mt-2",message:i.description})]})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center gap-3 pb-2 border-b border-slate-50",children:[e.jsx(D,{className:"w-5 h-5 text-emerald-600"}),e.jsx("h3",{className:"font-black text-slate-800 uppercase tracking-widest text-xs",children:"Capacity & Billing"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"price",value:"Monthly Subscription Fee (€)",className:"text-slate-600 font-bold"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400 font-bold",children:"€"}),e.jsx(m,{id:"price",type:"number",step:"0.01",className:"mt-1 block w-full pl-10 bg-slate-50/50 border-slate-200 focus:border-emerald-500 focus:ring-emerald-500 rounded-xl py-3",value:t.price,onChange:s=>n("price",s.target.value),required:!0})]}),e.jsx(o,{className:"mt-2",message:i.price})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"max_members",value:"Maximum Roster Size",className:"text-slate-600 font-bold"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-slate-400",children:e.jsx(T,{className:"w-4 h-4"})}),e.jsx(m,{id:"max_members",type:"number",className:"mt-1 block w-full pl-10 bg-slate-50/50 border-slate-200 focus:border-brand-blue focus:ring-brand-blue rounded-xl py-3",value:t.max_members,onChange:s=>n("max_members",s.target.value),required:!0})]}),e.jsx(o,{className:"mt-2",message:i.max_members})]})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between pb-2 border-b border-slate-50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(I,{className:"w-5 h-5 text-amber-600"}),e.jsx("h3",{className:"font-black text-slate-800 uppercase tracking-widest text-xs",children:"Weekly Schedule"})]}),e.jsxs("button",{type:"button",onClick:v,className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-black bg-slate-100 text-slate-600 hover:bg-brand-blue hover:text-white transition-all uppercase tracking-tighter",children:[e.jsx(M,{className:"w-3.5 h-3.5"}),"Add Session"]})]}),e.jsxs("div",{className:"space-y-4",children:[Array.isArray(t.schedule_json)&&t.schedule_json.map((s,a)=>e.jsxs("div",{className:"flex items-center gap-4 bg-slate-50/50 p-4 rounded-2xl border border-slate-100 group animate-in fade-in slide-in-from-left-2 transition-all duration-300",children:[e.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-4",children:[e.jsx("select",{value:s.day,onChange:r=>u(a,"day",r.target.value),className:"bg-white border-slate-200 focus:border-amber-500 focus:ring-amber-500 rounded-xl text-sm font-bold text-slate-700 h-12 transition-all",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(r=>e.jsx("option",{value:r,children:r},r))}),e.jsx(m,{type:"time",className:"bg-white border-slate-200 focus:border-amber-500 focus:ring-amber-500 rounded-xl text-sm font-bold text-slate-700 h-12",value:s.time,onChange:r=>u(a,"time",r.target.value)})]}),t.schedule_json.length>1&&e.jsx("button",{type:"button",onClick:()=>w(a),className:"text-slate-300 hover:text-brand-red p-2 hover:bg-red-50 rounded-lg transition-all",children:e.jsx(F,{className:"w-5 h-5"})})]},a)),e.jsx(o,{className:"mt-2",message:i.schedule_json})]})]}),e.jsxs("div",{className:"pt-8 border-t border-slate-50 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(_,{className:"bg-brand-blue px-10 py-4 rounded-2xl shadow-lg shadow-blue-100 font-black text-sm uppercase tracking-widest flex items-center gap-2 hover:translate-y-[-2px] transition-all",disabled:j,children:[e.jsx(A,{className:"w-5 h-5"}),d?"Commit Changes":"Initialize Group"]}),e.jsx(G,{show:y,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("p",{className:"text-sm text-emerald-600 font-bold bg-emerald-50 px-4 py-2 rounded-lg border border-emerald-100",children:"Success! Configuration saved."})})]}),e.jsx(p,{href:route("club.training-groups.index"),className:"text-sm font-bold text-slate-400 hover:text-slate-600 transition-colors uppercase tracking-widest",children:"Cancel Operation"})]})]})})]})})}export{se as default};
