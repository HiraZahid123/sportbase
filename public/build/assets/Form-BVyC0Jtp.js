import{u as y,j as e,H as N,L as _}from"./app-BzPMfLK_.js";import{A as w}from"./AuthenticatedLayout-DqAD8BqG.js";import{I as o}from"./InputError-dwEX1kOG.js";import{I as d}from"./InputLabel-CmBQB9Gq.js";import{P as S}from"./PrimaryButton-CqYKqU9R.js";import{T as m}from"./TextInput-D30LihdY.js";import{K as C}from"./transition-FDan_soh.js";import"./users-BmUWjhS9.js";function q({group:i=null}){const c=!!i,{data:a,setData:n,post:h,put:p,processing:j,errors:l,recentlySuccessful:g}=y({name:i?.name||"",description:i?.description||"",price:i?.price||"",max_members:i?.max_members||"",schedule_json:i?.schedule_json||[{day:"Monday",time:"17:00"}]}),v=s=>{s.preventDefault(),c?p(route("club.training-groups.update",i.id)):h(route("club.training-groups.store"))},b=()=>{n("schedule_json",[...a.schedule_json,{day:"Monday",time:"17:00"}])},f=s=>{const t=[...a.schedule_json];t.splice(s,1),n("schedule_json",t)},u=(s,t,r)=>{const x=[...a.schedule_json];x[s][t]=r,n("schedule_json",x)};return e.jsxs(w,{header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:c?"Edit Training Group":"Create Training Group"}),children:[e.jsx(N,{title:c?"Edit Training Group":"Create Training Group"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsx("div",{className:"p-6 text-gray-900",children:e.jsxs("form",{onSubmit:v,className:"space-y-6 max-w-xl",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"name",value:"Group Name"}),e.jsx(m,{id:"name",className:"mt-1 block w-full",value:a.name,onChange:s=>n("name",s.target.value),required:!0,isFocused:!0}),e.jsx(o,{className:"mt-2",message:l.name})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"description",value:"Description"}),e.jsx("textarea",{id:"description",className:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",value:a.description,onChange:s=>n("description",s.target.value)}),e.jsx(o,{className:"mt-2",message:l.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"price",value:"Monthly Price (€)"}),e.jsx(m,{id:"price",type:"number",step:"0.01",className:"mt-1 block w-full",value:a.price,onChange:s=>n("price",s.target.value),required:!0}),e.jsx(o,{className:"mt-2",message:l.price})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"max_members",value:"Max Members"}),e.jsx(m,{id:"max_members",type:"number",className:"mt-1 block w-full",value:a.max_members,onChange:s=>n("max_members",s.target.value),required:!0}),e.jsx(o,{className:"mt-2",message:l.max_members})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx(d,{value:"Training Schedule"}),e.jsx("button",{type:"button",onClick:b,className:"text-xs text-indigo-600 hover:text-indigo-900",children:"+ Add Session"})]}),a.schedule_json.map((s,t)=>e.jsxs("div",{className:"flex space-x-2 mb-2",children:[e.jsx("select",{value:s.day,onChange:r=>u(t,"day",r.target.value),className:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm text-sm",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(r=>e.jsx("option",{value:r,children:r},r))}),e.jsx(m,{type:"time",className:"block w-full text-sm",value:s.time,onChange:r=>u(t,"time",r.target.value)}),a.schedule_json.length>1&&e.jsx("button",{type:"button",onClick:()=>f(t),className:"text-red-500 hover:text-red-700",children:"×"})]},t)),e.jsx(o,{className:"mt-2",message:l.schedule_json})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(S,{disabled:j,children:"Save Group"}),e.jsx(C,{show:g,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("p",{className:"text-sm text-gray-600",children:"Saved."})}),e.jsx(_,{href:route("club.training-groups.index"),className:"text-sm text-gray-600 hover:underline",children:"Cancel"})]})]})})})})})]})}export{q as default};
